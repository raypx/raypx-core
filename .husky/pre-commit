#!/bin/sh

# Exit on error
set -e

echo "Running pre-commit checks..."
echo "ğŸ”§ Auto-fixing code issues..."
bun format

echo "ğŸ“ Adding formatted files to git..."
git add .

echo "ğŸ” Final code check..."
bun check || {
  echo "âŒ Code issues found that cannot be auto-fixed. Please review and fix manually:"
  echo "   Run 'bun check' to see the issues"
  echo "   Run 'bun format' to auto-fix formatting issues"
  exit 1
}

echo "âœ… All pre-commit checks passed!"